<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body>
    <h1>Home</h1>
    <p>Consulta la pagine delle 
        <a href="/persone.js">persone</a>
    </p>


    <!--
        Crea un API che 
        - prende con GET i valori dell'endpoint localhost:5000/users
        - li manda a schermo in un 
        <ul> 
            <li>user.nome<li/>
            <li>user.cognome<li/>
            <li>user.email<li/>
            <li>user.id<li/>
            <li>res.satusCode<li/>
        </ul>  
        
        FORSE devo prima esportare ogni valore in delle variabili o modelli
    -->

    <ul>

    </ul>
    <script>
        fetch("http://localhost:5000/users")
            .then(response => response.json())
            .then(data => { const articoli = data.map(articolo => {
                return (`
                        ${articolo.nome},
                        ${articolo.cognome},
                        ${articolo.email},
                        ${articolo.id},
                        `)
            })
            const list = document.querySelector("ul")
                            articoli.forEach((articolo)=> {
                                const list_item = document.createElement("li")
                                list_item.textContent = articolo
                                list.appendChild(list_item)
                            });
            console.log(typeof articoli)
            console.log(articoli.join("", ""))           
            })
    </script>
</body>
</html>